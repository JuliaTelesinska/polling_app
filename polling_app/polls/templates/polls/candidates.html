{% extends 'base.html' %}
{% block title %}Candidates{% endblock %}
{% block content %}
    <h3>Candidates in our database </h3><br>
    <form method="get">
        {{myFilter.form}}
        <button class="btn btn-primary" type="submit"><i class="fa-solid fa-magnifying-glass"></i> Search</button>
    </form><br>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">First name</th>
          <th scope="col">Last name</th>
          <th scope="col">Political party</th>
            <th scope="col">Age</th>
            <th scope="col">Picture</th>
        </tr>
      </thead>
        <tbody>
            {% for candidate in candidates %}
            <tr>
                    <td>{{candidate.first_name}}</td>
                    <td>{{candidate.last_name}} </td>
                    <td> {{candidate.party}} </td>
                    <td> {{candidate.age}} </td>
                    {% if candidate.candidate_picture %}
                    <td> <img src ="{{candidate.candidate_picture.url}}" width = 100> <a href="{{candidate.candidate_picture.url}}" download> <i class="fa-solid fa-download"></i> </a></td>
                    {% else %}
                    <td>No picture available</td>
                    {% endif %}
            </tr>
            {% endfor %}
      </tbody>
    </table>
<a href="{% url 'home' %}" class="btn btn-secondary"><i class="fa-solid fa-house"></i> Home</a><br/><br/>
<a href="{% url 'add_candidate' %}" class="btn btn-primary"><i class="fa-solid fa-plus"></i> Add a candidate </a><br/><br/>

{% endblock %}
